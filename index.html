<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft Glyph Generator by Leazent</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation">
        <div class="bg-grid"></div>
        <div class="bg-glow"></div>
        <div class="bg-particles"></div>
    </div>

    <!-- Main App Container -->
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-glow"></div>
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-gamepad"></i>
                        <div class="logo-pulse"></div>
                    </div>
                    <h1 class="logo-title">
                        <span class="logo-text">Minecraft Glyph Generator</span>
                        <span class="logo-subtext">by Leazent</span>
                    </h1>
                </div>
                <p class="subtitle">Create custom glyphs for Minecraft Bedrock & Java Edition</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Left Panel - Full Width Workspace -->
            <div class="left-panel">
                <!-- Visual Workspace -->
                <section class="workspace-section">
                    <div class="workspace-header">
                        <div class="workspace-title">
                            <i class="fas fa-palette"></i>
                            <span>Visual Workspace</span>
                        </div>
                        <div class="workspace-controls">
                            <div class="grid-stats">
                                <i class="fas fa-mouse-pointer"></i>
                                <span id="selectedCount">0</span>
                            </div>
                            <div class="grid-stats">
                                <i class="fas fa-layer-group"></i>
                                <span id="glyphCount">0</span>/256
                            </div>
                            <button class="btn btn-small btn-secondary" id="clearGridBtn">
                                <i class="fas fa-broom"></i> Clear Grid
                            </button>
                        </div>
                    </div>
                    
                    <!-- Glyph Grid - FULL WIDTH -->
                    <div class="glyph-grid-container">
                        <div class="grid-overlay"></div>
                        <div class="glyph-grid" id="glyphGrid">
                            <!-- 256 slots will be generated by JavaScript -->
                        </div>
                        <div class="grid-instruction">
                            <i class="fas fa-mouse-pointer"></i>
                            <span>Click on empty slots or drag and drop to add images, click on filled slots to select</span>
                        </div>
                    </div>
                </section>

                <!-- Preview & Statistics Row -->
                <div class="bottom-row">
                    <!-- Preview Section -->
                    <section class="preview-section">
                        <div class="section-header">
                            <h3><i class="fas fa-eye"></i> Preview</h3>
                        </div>
                        <div class="preview-content">
                            <div class="preview-canvas-wrapper">
                                <canvas class="preview-canvas" id="previewCanvas" width="8" height="8"></canvas>
                                <div class="canvas-frame"></div>
                            </div>
                            <div class="unicode-display">
                                <div class="unicode-info">
                                    <div class="unicode-label">
                                        <i class="fas fa-font"></i>
                                        <span>Unicode Character</span>
                                    </div>
                                    <div class="unicode-symbol" id="unicodeSymbol" title="No glyph selected">
                                        <span class="symbol-placeholder">?</span>
                                    </div>
                                </div>
                                <button class="copy-btn" id="copyUnicodeBtn" disabled>
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                            <div class="preview-details">
                                <div class="detail-item" id="selectedInfo">
                                    <i class="fas fa-crosshairs"></i>
                                    <span>Select a glyph to preview</span>
                                </div>
                                <div class="detail-item" id="unicodeInfo">
                                    <i class="fas fa-code"></i>
                                    <span>Click on any glyph slot</span>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Statistics Section -->
                    <section class="stats-section">
                        <div class="section-header">
                            <h3><i class="fas fa-chart-network"></i> Statistics</h3>
                        </div>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-image"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-value" id="totalGlyphs">0</div>
                                    <div class="stat-label">Total Glyphs</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-expand-alt"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-value" id="glyphSizeDisplay">8×8</div>
                                    <div class="stat-label">Glyph Size</div>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-boxes"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-value">256</div>
                                    <div class="stat-label">Max Capacity</div>
                                </div>
                            </div>
                            <div class="stat-card" onclick="window.open('https://youtube.com/@leazentg928?sub_confirmation=1', '_blank')">
                                <div class="stat-icon">
                                    <i class="fas fa-external-link-alt"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-value">Link</div>
                                    <div class="stat-label">Subscribe</div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>

            <!-- Right Panel - Controls -->
            <div class="right-panel" id="rightPanel">
                <!-- Quick Actions -->
                <section class="control-section">
                    <div class="section-header">
                        <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn btn-danger" id="deleteSelectedBtn" disabled>
                            <i class="fas fa-trash"></i>
                            <span>Delete Selected</span>
                        </button>
                        <button class="control-btn btn-secondary" id="selectAllBtn">
                            <i class="fas fa-check-square"></i>
                            <span>Select All</span>
                        </button>
                        <button class="control-btn btn-secondary" id="deselectAllBtn">
                            <i class="fas fa-square"></i>
                            <span>Deselect All</span>
                        </button>
                    </div>
                </section>

                <!-- Settings -->
                <section class="control-section">
                    <div class="section-header">
                        <h3><i class="fas fa-sliders-h"></i> Settings</h3>
                    </div>
                    <div class="settings-content">
                        <!-- Unicode Range Selector - SIMPLE -->
                        <div class="setting-group">
                            <label class="setting-label">
                                <i class="fas fa-code"></i>
                                <span>Unicode Range</span>
                            </label>
                            <div class="unicode-selector-container">
                                <button class="unicode-toggle-btn" id="unicodeToggleBtn">
                                    <span class="unicode-code">E2</span>
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Glyph Size -->
                        <div class="setting-group">
                            <label class="setting-label">
                                <i class="fas fa-expand-arrows-alt"></i>
                                <span>Glyph Size</span>
                            </label>
                            <div class="size-selector">
                                <div class="size-options">
                                    <label class="size-option">
                                        <input type="radio" name="glyphSize" value="8" checked>
                                        <div class="size-card">
                                            <div class="size-icon">
                                                <i class="fas fa-th"></i>
                                            </div>
                                            <div class="size-label">8×8</div>
                                        </div>
                                    </label>
                                    <label class="size-option">
                                        <input type="radio" name="glyphSize" value="16">
                                        <div class="size-card">
                                            <div class="size-icon">
                                                <i class="fas fa-th-large"></i>
                                            </div>
                                            <div class="size-label">16×16</div>
                                        </div>
                                    </label>
                                    <label class="size-option">
                                        <input type="radio" name="glyphSize" value="104">
                                        <div class="size-card">
                                            <div class="size-icon">
                                                <i class="fas fa-maximize"></i>
                                            </div>
                                            <div class="size-label">Extended</div>
                                        </div>
                                    </label>
                                </div>
                                <div class="size-note">
                                    <i class="fas fa-info-circle"></i>
                                    <span>Extended is up to 104×104 without changing the original size.</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Export -->
                <section class="control-section">
                    <div class="section-header">
                        <h3><i class="fas fa-rocket"></i> Export</h3>
                    </div>
                    <div class="export-buttons">
                        <button class="export-btn btn-success" id="exportPngBtn">
                            <i class="fas fa-image"></i>
                            <span>PNG Sprite Sheet</span>
                        </button>
                        <button class="export-btn btn-primary" id="exportJsonBtn">
                            <i class="fas fa-file-code"></i>
                            <span>JSON Provider</span>
                        </button>
                        <button class="export-btn btn-primary" id="exportBedrockBtn">
                            <i class="fab fa-windows"></i>
                            <span>Bedrock Resource Pack</span>
                        </button>
                        <button class="export-btn btn-primary" id="exportJavaBtn">
                            <i class="fab fa-java"></i>
                            <span>Java Resource Pack</span>
                        </button>
                    </div>
                </section>

                <!-- Project Management -->
                <section class="control-section">
                    <div class="section-header">
                        <h3><i class="fas fa-project-diagram"></i> Project</h3>
                    </div>
                    <div class="project-buttons">
                        <button class="project-btn btn-warning" id="saveProjectBtn">
                            <i class="fas fa-save"></i>
                            <span>Save Project</span>
                        </button>
                        <button class="project-btn btn-primary" id="loadProjectBtn">
                            <i class="fas fa-folder-open"></i>
                            <span>Load Project</span>
                        </button>
                    </div>
                </section>
            </div>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-content">
                <p>Minecraft Glyph Generator v1.0 • Created by Leazent • Not affiliated with Mojang/Microsoft</p>
                <div class="footer-glow"></div>
            </div>
        </footer>
    </div>

    <!-- Unicode Modal -->
    <div class="modal-overlay" id="unicodeModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2><i class="fas fa-code"></i> Select Unicode Range</h2>
                <button class="modal-close" id="closeUnicodeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="modal-code-grid" id="modalCodeGrid">
                    <!-- Code options will be generated by JavaScript -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn btn-secondary" id="cancelUnicodeModal">
                    Cancel
                </button>
                <button class="modal-btn btn-primary" id="applyUnicodeModal">
                    Apply Selection
                </button>
            </div>
        </div>
    </div>

    <!-- Size Change Modal -->
    <div class="modal-overlay" id="sizeChangeModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2><i class="fas fa-expand-alt"></i> Change Glyph Size</h2>
                <button class="modal-close" id="closeSizeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="modal-content">
                    <i class="fas fa-exclamation-triangle warning-icon"></i>
                    <p>Resize all existing glyphs from <span id="currentSize">8×8</span> to <span id="newSize">16×16</span>?</p>
                    <p class="modal-note"><i class="fas fa-info-circle"></i> Existing glyphs will be resized to match the new dimensions.</p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn btn-secondary" id="cancelSizeModal">
                    Cancel
                </button>
                <button class="modal-btn btn-primary" id="confirmSizeModal">
                    Confirm
                </button>
            </div>
        </div>
    </div>

    <!-- Delete Confirm Modal -->
    <div class="modal-overlay" id="deleteConfirmModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2><i class="fas fa-trash"></i> Delete Glyphs</h2>
                <button class="modal-close" id="closeDeleteModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="modal-content">
                    <i class="fas fa-exclamation-triangle warning-icon"></i>
                    <p>Delete <span id="deleteCount">0</span> selected glyph(s)?</p>
                    <p class="modal-note"><i class="fas fa-info-circle"></i> This action cannot be undone.</p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn btn-secondary" id="cancelDeleteModal">
                    Cancel
                </button>
                <button class="modal-btn btn-danger" id="confirmDeleteModal">
                    Delete
                </button>
            </div>
        </div>
    </div>

    <!-- Hidden File Inputs -->
    <input type="file" id="fileInput" multiple accept="image/png">
    <input type="file" id="projectInput" accept=".json">

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
        </div>
        <p id="loadingMessage">Processing...</p>
    </div>

    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="script.js"></script>
    <script>
        // Drawer functionality
        document.addEventListener('DOMContentLoaded', function() {
            const rightPanel = document.getElementById('rightPanel');
            const drawerToggleBtn = document.createElement('button');
            const drawerOverlay = document.createElement('div');
            const drawerCloseBtn = document.createElement('button');
            
            // Setup drawer toggle button
            drawerToggleBtn.id = 'drawerToggleBtn';
            drawerToggleBtn.className = 'drawer-toggle-btn';
            drawerToggleBtn.innerHTML = '<i class="fas fa-sliders-h"></i>';
            document.body.appendChild(drawerToggleBtn);
            
            // Setup overlay
            drawerOverlay.id = 'drawerOverlay';
            drawerOverlay.className = 'drawer-overlay';
            document.body.appendChild(drawerOverlay);
            
            // Setup close button in drawer
            drawerCloseBtn.id = 'drawerCloseBtn';
            drawerCloseBtn.className = 'drawer-close-btn';
            drawerCloseBtn.innerHTML = '<i class="fas fa-times"></i>';
            rightPanel.appendChild(drawerCloseBtn);
            
            // Wrap drawer content in scrollable div
            const drawerContent = document.createElement('div');
            drawerContent.className = 'drawer-content';
            
            // Move all existing content into drawer-content
            while (rightPanel.firstChild !== drawerCloseBtn) {
                if (rightPanel.firstChild) {
                    drawerContent.appendChild(rightPanel.firstChild);
                }
            }
            
            // Insert drawer content before close button
            rightPanel.insertBefore(drawerContent, drawerCloseBtn);
            
            // Convert to drawer on mobile
            function checkScreenSize() {
                if (window.innerWidth <= 992) {
                    rightPanel.classList.add('drawer');
                    drawerToggleBtn.style.display = 'flex';
                    // Ensure drawer is closed initially
                    rightPanel.classList.remove('open');
                    drawerOverlay.classList.remove('active');
                    drawerToggleBtn.classList.remove('active');
                    document.body.style.overflow = '';
                } else {
                    rightPanel.classList.remove('drawer');
                    rightPanel.classList.remove('open');
                    drawerToggleBtn.style.display = 'none';
                    drawerOverlay.classList.remove('active');
                    drawerToggleBtn.classList.remove('active');
                    document.body.style.overflow = '';
                }
            }
            
            // Initial check
            checkScreenSize();
            
            // Toggle drawer function
            function toggleDrawer() {
                if (rightPanel.classList.contains('open')) {
                    // Close drawer
                    rightPanel.classList.remove('open');
                    drawerOverlay.classList.remove('active');
                    drawerToggleBtn.classList.remove('active');
                    document.body.style.overflow = '';
                } else {
                    // Open drawer
                    rightPanel.classList.add('open');
                    drawerOverlay.classList.add('active');
                    drawerToggleBtn.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            }
            
            // Event listeners
            drawerToggleBtn.addEventListener('click', toggleDrawer);
            
            drawerCloseBtn.addEventListener('click', function() {
                rightPanel.classList.remove('open');
                drawerOverlay.classList.remove('active');
                drawerToggleBtn.classList.remove('active');
                document.body.style.overflow = '';
            });
            
            drawerOverlay.addEventListener('click', function() {
                rightPanel.classList.remove('open');
                drawerOverlay.classList.remove('active');
                drawerToggleBtn.classList.remove('active');
                document.body.style.overflow = '';
            });
            
            // Handle window resize
            window.addEventListener('resize', checkScreenSize);
            
            // Prevent horizontal scroll on mobile
            window.addEventListener('scroll', function() {
                if (window.innerWidth <= 992) {
                    window.scrollTo(0, window.scrollY);
                }
            });
            
            // Handle escape key to close drawer
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && rightPanel.classList.contains('open')) {
                    rightPanel.classList.remove('open');
                    drawerOverlay.classList.remove('active');
                    drawerToggleBtn.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
        });
        </script>
</body>
</html>